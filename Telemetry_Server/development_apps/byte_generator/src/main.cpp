#include <Arduino.h>
#include <stdint.h>
#include "telemetry_message_ids.hpp"


uint8_t buf[] =
{
  0x0A, 0x7E,
  TypeID_t::request_handshake, //typeId
  0x51, 0xA2, //messageId
  0x03, 0x04, 0xAA, 0x0A, //scrap

  0x02, 0x45, 0x7E,
	0x14, //type Id = HandshakeResponse
	0x01, 0x02, // messageId
	0x03, 0x04, // messageReferenceId
	'y', 'e', 't', 'i', '\0', //yeti\0
	0x7A, // CRC
	0x00, 0x10, 0x20, // 3 bytes scrap
	//message2: typeId=20/Handshake_response mId=258 mrId=772 hId="yeti\0" CRC , 2 bytes scrap

  0x0A, 0x7E,
  0x0F, //typeId = ACK
  0x01, 0x02,  //messageId
  0x03, 0x04,  //message reference Id
  0xAA, 0x0A, //scrap

  0x0A, 0x7E, TypeID_t::scan_sensor_data,
	0xFD, 0xAE, //mID
	0x03, 0x04, //mRID
	0xAA, 0x0A, //manufacturerId
	0x4E, 0x6A,  //deviceId
	'D','e','s','c','r','i','p','t','i','o','n','#','U','n','i','t',0x00,0x00,0x00,0x00, //name
	0x08, //CRC

  0x6a, 0x00, 0x35 //scrap
};

uint8_t buf2[] =
{
//  0x41, 0x42, 0x43, 0x44, 0x45, 0x46, 0x47, 0x48, 0x49, 0x50, 0x00, '\n'
  0x41, 0x42, 0x43, 0x44, 0x45, 0x46, 0x47, 0x48, 0x49, 0x50

};

void setup() {
  Serial.begin(115200);
}

void loop() {
  delay(20);
  for (uint8_t i = 0; i<sizeof(buf2); i++)
  {
      Serial.print((char)buf2[i]);
  }
}
